- [] first test-deployment on the web
- [] add metadata for repo (debate title)
- [.] improve landing page
    - [] for logged in user
        - [] make debates of user available on landing page
        - [] list those three with most recent changes
            - [] store number of answers + change date (most recent contribution) in db
            - [] add change_date to models.Debate + fixtures
    - [] for anonymous user
        - [] list of debates with most recent activity

- [] css glitch: on narrow screens the left margin is too (decoration is hidden by scroll bar)

- [] overhaul process of new debate creation
    - [x] require login
    - [x] improve test
    - [x] create an debate object
    - [x] create uncommitted contribution object (for contribution a)
        - [x] backend test
    - [x] redirect to show debate
        - [x] backend test
        - [] user b should not see anything before commit
            - [x] test for 404 error (currently 500)
        - [.] implement frontend test
        - [] fix broken frontend
            - [] user a should see widgets for uncommitted changes
    - [] create repo if committed
    - [] delete debate object if main contribution is deleted (before commit)
- [x] add rudimentary user profile page

- [x] (#i3) place answers to h1,h2,h3-tags etc outside of those tags
    - [x] failing backend test
    - [x] implement necessary changes in fdmd

- [x] js based buttons: level visibility ← →
    - [x] add buttons in frontend
    - [x] implement -> direction (js)
        - improve logic:
            - [x] take parents and children into account (they could be already shown for different reasons)
                - desired behavior: level 3 child manually shown or automatically due to dtb_status
                  => stays visible for "→" button, but
                  disappears if `currentLevel` decreases below 3 (also if it decreases from 2->1 or 1->0)
                  => already implemented
            - [x] (#i2) implement "btn_show_all_uc_ctb"
                - [x] test frontend
            - [x] (#i1) stop counter from increasing over deepest level
                - [x] failing test
                - [x] make deepest level available as json-script
        - [x] frontend test
    - [x] implement <- direction (js)
        - [x] frontend test

- [x] show number of answers in toolbar
- [x] improve debate heading
    - [x] display debate_key (slug) in title
    - [x] copy link to this debate

- [x] fix bug for empty contribution
    - [x] ignore them if they occur anyway,
        - [x] emit a logging-warning
    - [x] backend: refuse to accept them
        - [x] implement failing test
        - [x] fix test
    - [x] frontend: dot let them be posted,

- [x] js: can I open multiple answer dialogs at the same time? (segment_element.setAttribute('data-active', "true");)
    - → is not intentionally not allowed
    - [x] implement modal warning dialog
        - see: https://www.w3schools.com/howto/howto_css_modals.asp
        - [x] should appear only if one textarea is shown and has changed
        - [x] should appear if any of the buttons are pressed
            - [x] splinter test

- [x] add answer via gui
    - [x] specify repo and db-concept
    - [x] implement mechanism to publish all answers in one commit
        - [x] backend
            - [x] test that new contributions are rendered correctly (without class "db_ctb")
        - [x] frontend
    - [x] implement mechanism to publish answer from db to repo
        - [x] backend
            - [x] add basic view and test
            - [x] write contribution to file in repo
            - [x] create commit in repo (as correct user)
            - [x] adapt tearDown to restore repo state
            - [x] test that new contributions are rendered correctly (without class "db_ctb")
        - [x] frontend
    - all uncommitted answers
        - for the author:
            - [x] should be displayed by default (and thus their parents)
            - [x] and have their own css class (moderately highlighted) -> db_ctb
            - [x] add delete button
                - [x] backend
                - [x] frontend
        - [x] for all but the author: should not be displayed
    - [x] consider preview view with possibility to update -> edit already created answer:
        - [x] implement update mechanism
            - [x] backend
            - [x] frontend
                - [x] insert form
                - [x] insert body source into form
                - [x] gui test
                - [x] ui friendly styling
                - [x] fix gui behavior when opening different forms
                - [x] insert only separator with edit-button
                - [x] edit button shows actual form
        - [x] create roles for users in repos
            - [x] implement tests
                - [x] testuser_1 has role a in d1-lorem_ipsum. Thus they cannot create a b-contribution, but an a-contribution
                    - [x] backend
                    - [x] frontend
                - [x] testuser_2 has role b in d1-lorem_ipsum. Thus they can create a b-contribution but not an a-contribution
                    - [x] backend
                    - [x] frontend
                - [x] testuser_3 has no role in d1-lorem_ipsum. Thus they can create neither a nor b-contributions
                    - [x] backend
                    - [x] frontend
                - [x] not-logged-in-user can create neither a nor b-contributions
                    - [x] frontend (backend already implemented)
    - [x] basic implementation
        - [x] insert form on click on segment
            - [x] implement splinter-based tests
            - [x] display warning if not logged in
        - [x] store answer data in db
            - [x] implement splinter-based tests

- [x] css: make second sticky bar actually sticky
- [x] in splinter-based-tests: ensure that no js error occurred
- [x] use ?next=... mechanism in the login-link from the head menu

- [x] open debate from url /d/debate_key
    - [x] drop fmdm.fixtures/debate1 in favor of fdmd.fixtures/repos/d1-lorem_ipsum
    - [x] specify test concept
    - [x] implement test concept
    - [x] load repo from workdir
    - [x] robust repo creation for testing
- [x] implement suitable template tag for version-insertion (see footer in base.html)
- [x] respect ?next= in login processing
    - [x] fix bug with no given parameter
- [x] display square if answer is available
- [x] open answer by click on segment
- [x] prevent breaking of p tag by answer -> solved by using div instead of p
- [x] display key on mouse over
